	/**	Â© Peter Smaznoy, 2016 *** All rights reserved **/ /* Set some values */ var myObj; var dataArr = {}; dataArr.call = true; /* The launching function */ function start (myObj) {if (myObj !== undefined) {footerArr(myObj); footerToBottom(myObj); dataArr.call = false; return dataArr.call; } }; /* The launching method */ (function($){jQuery.fn.magic = function(){myObj = $(this); start(myObj); }; })(jQuery); /* The destructing method */ (function($){jQuery.fn.destroy = function(){myObj = $(this); destroy(myObj); }; })(jQuery); /* Write some primary data */ function footerArr (footObj) {if (footObj !== undefined) {if (dataArr.call) {dataArr.footObj = footObj; dataArr.footObj_pos = footObj.css('position'); dataArr.footObj_bot = footObj.css('bottom'); dataArr.footObj_m_bot = footObj.css('margin-bottom'); dataArr.parent_pos = footObj.parent('div').css('position'); dataArr.fDiv_padding = footObj.parent('div').children('div:first-of-type').css('padding-bottom'); return dataArr; }; } } /* Recalculate dimensions */ $(window).resize(function(event) {if (dataArr.footObj != undefined) {footerToBottom(dataArr.footObj); }; }); /* The "doing" function */ function footerToBottom (footObj) {if (footObj != undefined) {footHei = footObj.outerHeight(); footObj.css({'position': 'absolute', 'bottom': 0, 'margin-bottom': 0, }); footObj.parent('div').css('position', 'relative'); footObj.parent('div').children('div:first-of-type').css('padding-bottom', footHei); } } /* The destructing function */ function destroy (footObj) {if (footObj != undefined) {footObj.css({'position': dataArr.footObj_pos, 'bottom': dataArr.footObj_bot, 'margin-bottom': dataArr.footObj_m_bot, }); footObj.parent('div').css('position', dataArr.parent_pos); footObj.parent('div').children('div:first-of-type').css('padding-bottom', dataArr.fDiv_padding); } }